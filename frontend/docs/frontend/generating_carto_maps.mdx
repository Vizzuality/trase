---
name: Tools to generate CARTO maps
menu: Frontend
---

# Tools to generate CARTO maps

## Add new vector maps to the tool map

This is needed when an update is needed on the map's vector layers. We have a service on the backend to serve this layers for the mapbox tool page map. See mbtileserver backend documentation.

- Generate tiles from carto into a mbtiles file
- Generated tiles should be in /var/www/tilesets
- Use scp to upload the generated *.mbtiles into this folder of sandbox-data or production:
```
scp ./ecuador_cantons.mbtiles ubuntu@sandbox-data.trase.earth:/var/www/tilesets
```
- ssh to sandbox-data or production
- Run the following command to restart the mbtileserver:
```
sudo systemctl restart mbtileserver
```

The most up to date version of the tiles is stored on the map folder but this is not used on the app directly. Is just to have a back-up

### Generate municipalities by state TopoJSON files (only for Brazil for now)

Those are the maps used by D3 in place profile pages.

```
cd frontend
./gis/vector_maps/main.sh
```
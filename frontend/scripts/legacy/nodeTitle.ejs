<% if (isSelect) { %>
<% nodes.forEach(function(node, i) { %>
<% const color = (recolorGroups === null) || !recolorGroups[node.id] ? -1 : recolorGroups[node.id] %>
<div
        class="js-node-title c-node-title -recolorgroup-<%= color %> <% if (node.hasLink) { %>-link<% } %>"
        data-node-id="<%= node.id %>"
        data-year="<%= year %>"
        data-context-id="<%= contextId %>"
>
    <div class="node-title-column" >
        <div class="column-title" ><%= node.columnName %></div >
        <div class="column-content" ><%= node.name %></div >
    </div >
    <% if (node.hasLink) { %>
    <div class="node-title-column" >
        <div class="column-content" >
            <span class="icon-link" >
              <svg class="icon icon-link" ><use xlink:href="#icon-link" ></use ></svg>
            </span >
        </div >
    </div >
    <% } %>
    <% if (node.renderedQuant) { %>
    <div class="node-title-column" >
        <div class="column-title" ><%= node.renderedQuant.name %></div >
        <div class="column-content" ><%= node.renderedQuant.value %><span
                    class="unit" ><%= node.renderedQuant.unit %></span ></div >
    </div >
    <% } %>
    <% if (node.selectedMetas) { node.selectedMetas.forEach(function(meta) { %>
    <div class="node-title-column" >
        <div class="column-title" ><%= meta.name %></div >
        <div class="column-content" ><span class="value" ><%= meta.value %></span >
            <% if (meta.unit) { %>
            <span class="unit" ><%= meta.unit %></span >
            <% } %>
        </div >
    </div >
    <% })} %>
    <div class="node-title-column" >
        <div class="column-content" >
            <svg class="icon icon-close js-node-close" data-node-id="<%= node.id %>" >
                <use xlink:href="#icon-close" ></use >
            </svg >
        </div >
    </div >
</div >
<% }) %>
<% } else { %>
<% const node = nodes[0] %>
<div class="c-node-title -recolorgroup--1" >
    <div class="node-title-column" >
        <div class="column-title" ><%= node.columnName %></div >
        <div class="column-content" ><%= node.name %></div >
    </div >

    <% if (node.renderedQuant) { %>
    <div class="node-title-column" >
        <div class="column-title" ><%= node.renderedQuant.name %></div >
        <div class="column-content" ><%= node.renderedQuant.value %><span
                    class="unit" ><%= node.renderedQuant.unit %></span ></div >
    </div >
    <% } %>
    <% if (node.selectedMetas) { node.selectedMetas.forEach(function(meta) { %>
    <div class="node-title-column" >
        <div class="column-title" ><%= meta.name %></div >
        <div class="column-content" ><span class="value" ><%= meta.value %></span >
            <% if (meta.unit) { %>
            <span class="unit" ><%= meta.unit %></span >
            <% } %>
        </div >
    </div >
    <% })} %>
</div >
<% } %>
